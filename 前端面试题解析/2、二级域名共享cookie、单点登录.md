>电商网站A和电影票网站B合作，A的用户，可以通过A网站下单购买电影票，之后跳转跳转到B（不需要登录）去选座位。 如果A、B是同域名，比如a.domain.com,b.domain.com能不能共享cookie?如果不同域如何处理？
>
>题目解析：本质就是二级域名下怎么共享cookie.

二级域名共享
---
https://segmentfault.com/a/1190000006932934

单点登录
---
https://segmentfault.com/q/1010000000256891

方案一 :如果是相同一级域名的话,可以将cookie设置在一级域名下面，那么所有一级域名下的子域名都可以共享cookie
缺点: 1. 首先是有了一级域名的限制，2.所有服务端生成和解析cookie的规则要保持一致 


方案二: 如果一级域不同的话，需要一个user系统，只有在该系统可以进行user信息输入和校验，比如密码和用户名; 其他系统需要重定向到该user系统，user授权完毕之后，user系统生成令牌，携带该令牌并且返回其他系统，其他系统拿着该令牌到服务器端去用户系统同校验，拿到用户的相关信息，

缺点: 多个系统都需要共享一个用户登录页面，但是像天猫和淘宝这样的就不会共享登录页面，因为他们有各自的品牌，那么这个问题又变成了前端不通过跳转去拿到另一个系统的登录状态，这就变成了跨域请求的问题，跨域请求推荐使用jsonp,1是没有兼容性问题，2服务端可以直接跨域写入将用户信息写入cookie